<div *ngIf="auth.user$ | async as user">
  <ng-container *ngIf="auth.isAdmin(user); else employer">
    <div class="col-lg-9 col-md-12 col-sm-12 col-12">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
          <div class="job_main_overflow jb_cover">
            <div class="latest_job_overlow jb_cover">
              <div class="manage_jobs_wrapper jb_cover">
                <!-- .pending -->
                <div class="job_list mange_list">
                  <h6>job title</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>requested</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>invited</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>applied</h6>
                </div>
                <!-- <div class="job_list_next mange_list">
                      <h6>status</h6>
                  </div> -->
              </div>

              <div
                *ngFor="let r of requests | async">
                <div
                *ngIf="!r.delivered"
                  class="latest_job_box jb_cover cp"
                  [routerLink]="['/', 'dashboard', 'request', r.id]"
                >
                  <div class="job_list">
                    <h6>
                      <p>{{ r.title }}</p>
                    </h6>
                    <p><i class="far fa-envelope"></i> {{ r.owner }}</p>
                  </div>
                  <div class="job_list_next">
                    <p>{{ r.no }}</p>
                  </div>
                  <div class="job_list_next">
                    <p
                      [ngClass]="{
                        gn: (r.invited || []).length > r.no,
                        pen: (r.invited || []).length == r.no,
                        ex: r.no > (r.invited || []).length
                      }"
                    >
                      {{ (r.invited || []).length }}
                    </p>
                  </div>
                  <div class="job_list_next">
                    <p
                      [ngClass]="{
                        gn: (r.confirmed || []).length >= r.no,
                        pen: r.no > (r.confirmed || []).length
                      }"
                    >
                      {{ (r.confirmed || []).length }}
                    </p>
                  </div>
                  <!-- <div class="job_list_next">
                      <p class="gn">active</p>
                    </div> -->
                </div>
              </div>





              <div class="manage_jobs_wrapper delivered jb_cover ">
                <div class="job_list mange_list">
                  <h6>job title</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>requested</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>applied</h6>
                </div>
                      <div class="job_list_next mange_list">
                        <h6>delivered</h6>
                      </div>
                <!-- <div class="job_list_next mange_list">
                      <h6>status</h6>
                  </div> -->
              </div>

              <div
                *ngFor="let r of requests | async"
                >
                <div *ngIf="r.delivered"
                  class="latest_job_box jb_cover cp"
                  [routerLink]="['/', 'dashboard', 'request', r.id]">
<div class="job_list">
                  <h6>
                    <p>{{ r.title }}</p>
                  </h6>
                  <p><i class="far fa-envelope"></i> {{ r.owner }}</p>
                </div>
                <div class="job_list_next">
                  <p>{{ r.no }}</p>
                </div>
                
                <div class="job_list_next">
                  <p
                    [ngClass]="{
                      gn: (r.confirmed || []).length >= r.no,
                      pen: r.no > (r.confirmed || []).length
                    }"
                  >
                    {{ (r.confirmed || []).length }}
                  </p>
                </div>


                <div class="job_list_next">
                  <p
                    [ngClass]="{
                      gn: (r.confirmed || []).length >= r.no,
                      pen: r.no > (r.confirmed || []).length
                    }"
                  >
                    <i class="fa fa-check"></i>
                  </p>
                </div>
                </div>
                
                <!-- <div class="job_list_next">
                    <p class="gn">active</p>
                  </div> -->
              </div>

              <!-- <div class="blog_pagination_section jb_cover">
                  <ul>
                    <li>
                      <a href="#" class="prev">
                        <i class="flaticon-left-arrow"></i>
                      </a>
                    </li>
                    <li><a href="#">1</a></li>
                    <li class="third_pagger"><a href="#">2</a></li>
                    <li class="d-block d-sm-block d-md-block d-lg-block">
                      <a href="#">3</a>
                    </li>
                    <li class="d-none d-sm-block d-md-block d-lg-block">
                      <a href="#">...</a>
                    </li>
                    <li class="d-none d-sm-block d-md-block d-lg-block">
                      <a href="#">6</a>
                    </li>
      
                    <li>
                      <a href="#" class="next">
                        <i class="flaticon-right-arrow"></i>
                      </a>
                    </li>
                  </ul>
                </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-template #employer>
    <div class="col-lg-9 col-md-12 col-sm-12 col-12">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
          <div class="job_main_overflow jb_cover">
            <div class="latest_job_overlow jb_cover">
              <div class="manage_jobs_wrapper jb_cover">
                <div class="job_list mange_list">
                  <h6>job title</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>&nbsp;&nbsp;&nbsp;</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>requested</h6>
                </div>
                <div class="job_list_next mange_list">
                  <h6>status</h6>
                </div>
                <!-- <div class="job_list_next mange_list">
                      <h6>status</h6>
                  </div> -->
              </div>

              <div
                *ngFor="let r of requests | async"
                class="latest_job_box jb_cover cp"
                [routerLink]="['/', 'dashboard', 'request', r.id]"
              >
                <div class="job_list">
                  <h6 class="mb-2">
                    <p>{{ r.title }}</p>
                  </h6>
                  <p><i class="fa fa-info-circle"></i> {{ r.description }}</p>
                </div>
                <div class="job_list_next">
                  <p>&nbsp;&nbsp;&nbsp;</p>
                </div>
                <div class="job_list_next">
                  <p>
                    {{ r.no }}
                  </p>
                </div>
                <div class="job_list_next">
                  <p
                    [ngClass]="{
                      gn: r.delivered,
                      pen: !(r.delivered)
                    }"
                  >
                    {{ r.delivered ? 'Delivered' : 'Processing' }}
                  </p>
                </div>
                <!-- <div class="job_list_next">
                    <p class="gn">active</p>
                  </div> -->
              </div>

              <!-- <div class="blog_pagination_section jb_cover">
                  <ul>
                    <li>
                      <a href="#" class="prev">
                        <i class="flaticon-left-arrow"></i>
                      </a>
                    </li>
                    <li><a href="#">1</a></li>
                    <li class="third_pagger"><a href="#">2</a></li>
                    <li class="d-block d-sm-block d-md-block d-lg-block">
                      <a href="#">3</a>
                    </li>
                    <li class="d-none d-sm-block d-md-block d-lg-block">
                      <a href="#">...</a>
                    </li>
                    <li class="d-none d-sm-block d-md-block d-lg-block">
                      <a href="#">6</a>
                    </li>
      
                    <li>
                      <a href="#" class="next">
                        <i class="flaticon-right-arrow"></i>
                      </a>
                    </li>
                  </ul>
                </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>
